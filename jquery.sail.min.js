/* @license MIT LICENSE https://github.com/grenouille220/jquery-sail/blob/master/LICENSE */
!function(e,$){function t(t,a){t=t||{},a=a||{};var r=0;if(t.head=function(e){for(var t=[],a,r=0,n=e.split(","),i=n.length;r<i;r++)a=n[r].replace(/^\s+|\s+$/g,""),"title"===a||/\[/.test(a)?t.push(a):(t.push("meta[name^='"+a+"']"),t.push("meta[property^='"+a+"']"),t.push("meta["+a+"]"),t.push("link[rel='"+a+"']"),t.push("link["+a+"]"));return t.join(",")}(t.head||""),a.notify=function(e){if($&&$.a11yfy)$.a11yfy.assertiveAnnounce(e);else{var t=$(".jquery-a11yfy-assertiveannouncer");if(!t||!t.length){var a=document.createElement("style"),n=".offscreen { border: 0; clip: rect(0 0 0 0); clip: rect(0, 0, 0, 0); height: 1px; margin: -1px; overflow: hidden; padding: 0; width: 1px; position: absolute; }";a.setAttribute("type","text/css"),$("head").append(a),a.styleSheet?a.styleSheet.cssText=n:a.appendChild(document.createTextNode(n));for(var i=0;i<2;i++)$("body").append($("<div>").attr({id:"jquery-a11yfy-assertiveannouncer"+i,class:"jquery-a11yfy-assertiveannouncer",role:"log","aria-live":"assertive","aria-relevant":"additions"}).addClass("offscreen"));t=$(".jquery-a11yfy-assertiveannouncer")}$(t[r]).empty(),r+=1,r%=2,$(t[r]).append($("<p>").text(document.title))}},t.lazyload){var n=document.createElement("div");n.className="offscreen",n.innerHTML=['<svg width="0" height="0" xmlns="http://www.w3.org/2000/svg">','<filter id="jquery-sail-blur">','<feGaussianBlur stdDeviation="5"></feGaussianBlur>',"</filter>","</svg>"].join(""),$("body").append(n)}a.setLazyloadView=function(t){return e.Waypoint.destroyAll(),t.find("img").each(function(){var e=$(this),t=e.attr("width")||!1,a=e.attr("height")||!1;e.attr("data-fullsize")||e.attr("data-fullsize",e.attr("src"));for(var r,n=["thumb","thumbnail","preload"],i=0,l=n.length;i<l;i++)if(r=e.attr("data-"+n[i])||!1){e.addClass("jquery-sail-blur").css({filter:"url('#jquery-sail-blur')"}).removeAttr("data-"+n[i]);break}r||(r="data:image/svg+xml;charset=utf-8,%3Csvg xmlns%3D'http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg' width%3D'"+t+"' height%3D'"+a+"' viewBox%3D'0 0 "+t+" "+a+"'%2F%3E"),e.attr("src",r).addClass("jquery-sail-placeholder")}),t},a.setLazyloadEvents=function(e){return e.find("img.jquery-sail-placeholder").waypoint({handler:function(){var e=0,t=this,a=t.element;/jquery-sail-blur/.test(a.className||"")&&(e=750),setTimeout(function(){var e=$(a);e.attr("src",e.attr("data-fullsize")),e.hasClass("jquery-sail-blur")&&e.removeClass("jquery-sail-blur").css("filter","none"),e.removeAttr("data-fullsize").removeClass("jquery-sail-placeholder"),t.destroy()},e)},offset:"90%"}),e},a.update=function(r,n,i){var l=$("<head />").html(r.replace(/([^]+<head[^>]*>|<\/head>[^]+)/g,""));history.pushState("",l.find("title").text(),i.requestedURL);var s=$(t.frame);t.head&&t.head.length&&(s.trigger("pjaxUpdateHeadBefore"),$("head").find(t.head).remove(),l.find(t.head).appendTo("head"),s.trigger("pjaxUpdateHeadAfter"));var o=r.match(/<body(.*?)>/),d=$("body").removeAttr("id").removeAttr("class");if(o&&o.length&&o[1]){var f=$("<div "+o[1]+"></div>");$.each(["id","class"],function(e,t){var a=f.attr(t)||"";a&&a.length&&d.attr(t,a)})}var c=$("<div />").html(r.replace(/([^]+<body[^>]*>|<\/body>[^]+)/g,""));$.each(t.area,function(r,n){var i=$.trim(n),l=$(i),s;l.length&&(t.softReplace?(s=$(l[l.length-1]),s.parent().addClass("ui-state-pjax-before"),s.addClass("isOldBarba").css({position:"absolute",top:-1*$(window).scrollTop()+s.offset().top+"px"}).after(c.find(i.split(",")[0]).addClass("isNewBarba")),s.parent().addClass("ui-state-pjax-after")):t.pjaxUpdateContentBefore&&"function"==typeof t.pjaxUpdateContentBefore?$(l[l.length-1]).html(t.pjaxUpdateContentBefore(c.find(i.split(",")[0]),t.lazyload&&e.Waypoint?a.setLazyloadView:function(e){return e}).html()):$(l[l.length-1]).html(c.find(i.split(",")[0]).html()))}),$(window).scrollTop(0),$.each(t.area,function(r,n){var i=$.trim(n),l=$(i);l.length&&(t.softReplace||t.pjaxUpdateContentAfter&&"function"==typeof t.pjaxUpdateContentAfter&&t.pjaxUpdateContentAfter($(l[l.length-1]),t.lazyload&&e.Waypoint?a.setLazyloadEvents:function(e){return e}))}),t.callback&&"function"==typeof t.callback&&t.callback(),/title/.test(t.head||"")&&t.aria&&a.notify(document.title)},a.fetch=function(r){var n=this;n.href||(n.href=e.location.pathname);var i=!t.filter||t.filter&&t.filter.call(n,r);if(i){r.preventDefault(),r.stopPropagation(),$(n).trigger("click.pjax");var l=$(t.frame),s=t.ajax;s.url=this.href,s.processData=!1,s.beforeSend=function(e,t){e.requestedURL=s.url,l.trigger("pjaxAjaxBeforeSend")},s.complete=function(){l.trigger("pjaxAjaxComplete")},s.success=a.update,$.ajax(s)}},a.ajaxify=function(){$.fn.live?$(t.link).live("click",a.fetch):$.fn.on&&$(document).on("click",t.link,a.fetch)},a.ajaxify(),$(window).bind("popstate",a.fetch)}$.fn.sail=function(a){return this.length?this.each(function(){new t($.extend({area:["#barba-wrapper .barba-container"],aria:!0,ajax:{timeout:5e3},callback:function(){e.ga&&e.ga("send","pageview",e.location.pathname+e.location.search)},filter:function(){var t=function(e){return e.split("#")[0].split("?")[0]};return function(a){var r=!0;this&&this.href||(r=!1);var n=t(this.href);return n===t(e.location.href)&&(r=!1),/(\/|\.html|\.shtml|\.asp|\.php)$/.test(t(n))||(r=!1),this.target&&!/self/.test(this.target)&&(r=!1),(a.which>1||a.metaKey||a.ctrlKey||a.shiftKey||a.altKey)&&(r=!1),this.hreflang&&document.documentElement&&document.documentElement.lang&&this.hreflang!==document.documentElement.lang&&(r=!1),r}}(),link:"a",head:"title, keyword, description, og, twitter, itemprop, canonical, prev, next, alternate",frame:this||e,softReplace:0,lazyload:1,pjaxUpdateContentBefore:function(e,t){return t(e)},pjaxUpdateContentAfter:function(e,t){return t(e)}},a||{}))}):this}}(window,jQuery);