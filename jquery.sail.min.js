/* @license MIT LICENSE https://github.com/grenouille220/jquery-sail/blob/master/LICENSE */
!function(e,$){function t(t,a){t=t||{},a=a||{};var n=0;a.update=function(e,a,r){var i=$("<head />").html(e.replace(/([^]+<head[^>]*>|<\/head>[^]+)/g,""));history.pushState("",i.find("title").text(),r.requestedURL);var o=$(t.frame);t.head&&t.head.length&&(o.trigger("pjaxUpdateHeadBefore"),$("head").find(t.head).remove(),i.find(t.head).appendTo("head"),o.trigger("pjaxUpdateHeadAfter"));var l=e.match(/<body(.*?)>/),c=$("body").removeAttr("id").removeAttr("class");if(l&&l.length&&l[1]){var d=$("<div "+l[1]+"></div>");$.each(["id","class"],function(e,t){var a=d.attr(t)||"";a&&a.length&&c.attr(t,a)})}if(c=$("<div />").html(e.replace(/([^]+<body[^>]*>|<\/body>[^]+)/g,"")),o.trigger("pjaxUpdateContentBefore"),$.each(t.area,function(e,a){var n=$.trim(a),r=$(n);r.length&&$(r[r.length-1])[t.replaceContent?"html":"append"](c.find(n.split(",")[0]).html())}),t.pjaxUpdateContentAfter&&"function"==typeof t.pjaxUpdateContentAfter&&t.pjaxUpdateContentAfter(),o.trigger("pjaxUpdateContentAfter"),t.callback&&"function"==typeof t.callback&&t.callback(),$&&$.a11yfy)$.a11yfy.assertiveAnnounce(document.title);else{var f=$(".jquery-a11yfy-assertiveannouncer");if(!f||!f.length){var p=document.createElement("style"),s=".offscreen { border: 0; clip: rect(0 0 0 0); clip: rect(0, 0, 0, 0); height: 1px; margin: -1px; overflow: hidden; padding: 0; width: 1px; position: absolute; }";p.setAttribute("type","text/css"),$("head").append(p),p.styleSheet?p.styleSheet.cssText=s:p.appendChild(document.createTextNode(s));for(var h=0;h<2;h++)$("body").append($("<div>").attr({id:"jquery-a11yfy-assertiveannouncer"+h,class:"jquery-a11yfy-assertiveannouncer",role:"log","aria-live":"assertive","aria-relevant":"additions"}).addClass("offscreen"));f=$(".jquery-a11yfy-assertiveannouncer")}$(f[n]).empty(),n+=1,n%=2,$(f[n]).append($("<p>").text(document.title))}},a.fetch=function(n){var r=this;r.href||(r.href=e.location.pathname);var i=!t.filter||t.filter&&t.filter.call(r,n);if(i){n.preventDefault(),n.stopPropagation(),$(r).trigger("click.pjax");var o=$(t.frame),l=t.ajax;l.url=this.href,l.processData=!1,l.beforeSend=function(e,t){e.requestedURL=l.url,o.trigger("pjaxAjaxBeforeSend")},l.complete=function(){o.trigger("pjaxAjaxComplete")},l.success=a.update,$.ajax(l)}},a.ajaxify=function(){$.fn.live?$(t.link).live("click",a.fetch):$.fn.on&&$(document).on("click",t.link,a.fetch)},a.ajaxify(),$(window).bind("popstate",a.fetch)}$.fn.sail=function(a){return this.length?this.each(function(){new t($.extend({area:["#barba-wrapper .barba-container"],ajax:{timeout:5e3},callback:function(){e.ga&&e.ga("send","pageview",e.location.pathname+e.location.search)},filter:function(){var t=function(e){return e.split("#")[0].split("?")[0]};return function(a){var n=!0;this&&this.href||(n=!1);var r=t(this.href);return r===t(e.location.href)&&(n=!1),/(\/|\.html|\.shtml|\.asp|\.php)$/.test(t(r))||(n=!1),this.target&&!/self/.test(this.target)&&(n=!1),(a.which>1||a.metaKey||a.ctrlKey||a.shiftKey||a.altKey)&&(n=!1),this.hreflang&&document.documentElement&&document.documentElement.lang&&this.hreflang!==document.documentElement.lang&&(n=!1),n}}(),link:"a",head:["title","meta[name^='keyword']","meta[name^='description']","meta[property^='og']","meta[name^='twitter']","link[rel='canonical']","link[rel='prev']","link[rel='next']"].join(", "),frame:this||e,replaceContent:1},a||{}))}):this}}(window,jQuery);